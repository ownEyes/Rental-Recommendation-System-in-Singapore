<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
        <link href="../static/plugin/ratingstar/css/star-rating.css" media="all" rel="stylesheet" type="text/css"/>
        <link href="../static/plugin/ratingstar/themes/krajee-fas/theme.css" media="all" rel="stylesheet" type="text/css"/>
        <link href="../static/plugin/ratingstar/themes/krajee-svg/theme.css" media="all" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
        <!--script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script-->
        <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
        <script src="../static/plugin/ratingstar/js/star-rating.js" type="text/javascript"></script>
        <script src="../static/plugin/ratingstar/themes/krajee-fas/theme.js" type="text/javascript"></script>
        <script src="../static/plugin/ratingstar/themes/krajee-svg/theme.js" type="text/javascript"></script>
        <script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>
        <script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <link rel="icon" type="image/x-icon" href="../static/img/favicon.ico" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
        <!-- Bootstrap Icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Google fonts-->
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../static/css/styles.css" rel="stylesheet" />
        <style>
            .user-input-bar {
               width: 50%; /* 定义宽度，根据需要调整 */
               margin: 0 auto; /* 水平居中 */
               background-color: #f0f0f0; /* 背景颜色 */
               border: 1px solid #ccc; /* 边框 */
               padding: 10px; /* 内边距 */
               display: flex; /* 使用 Flex 布局 */
               justify-content: center; /* 居中对齐条目 */
               align-items: center; /* 垂直居中对齐条目 */
            }
            .wide-input {
                width: 110px;
            }
           </style>
        <title></title>
    </head>
    <body>
        <div id="mainNav"></div>
        <section class="page-section" id="contact">
            <!--div class="container px-4 px-lg-5"-->
            <div class="container">
                <div class="row justify-content-center">
                    <div class="text-center">
                        <h2 class="mt-0">Renting Made Easy, Just for You.</h2>
                        <hr class="divider" />
                        <p class="text-muted mb-5">Please enter your requirements and preferences below.</p>
                    </div>
                </div>
                <div>
                    <form id="userin" method="post" action="/userInput">
                        <div class="form-group row align-items-center justify-content-center">
                            <div class ="col-1">
                                <label for="minprice" class="col-form-label text-right">Min. Price:</label>
                            </div>
                            <div class="col-1">
                                <input type="text" name ="minprice" class="form-control" id="minprice">
                                    <!--span class="input-group-text">----</span-->
                            </div>
                            <div class ="col-1">
                                <label for="maxprice" class="col-form-label text-right">Max. Price:</label>
                            </div>
                            <div class="col-1">
                                <input type="text" name ="maxprice" class="form-control" id="maxprice">
                                    <!--span class="input-group-text">----</span-->
                            </div>
                        </div>
                        <div class="form-group row align-items-center justify-content-center">
                            <div class ="col-2">
                                <label for="pricerating" class="col-form-label text-right">Importance for Price:</label>
                            </div>
                            <div class="col-3">
                                <input id="pricerating" value="" type="text" class="rating" data-theme="krajee-fas" data-min=0 data-max=5 data-step=0.5 data-size="sm" title="" name="importance_p">
                                <!-- <input type="hidden" id="importance_p" name="importance_p"> -->
                            </div>
                        </div>
                        <div class="form-group row align-items-center justify-content-center">
                            <div class ="col-1">
                                <label for="location" class="col-2 col-form-label text-right">Location:</label>
                            </div>
                            <div class="col-3">
                        
                                <input type="text" name="location" class="form-control" id="location">   
                            </div>
                        </div>
                        <div class="form-group row align-items-center justify-content-center">
                            <div class ="col-2">
                                <label for="locationrating" class="col-form-label text-right">Importance for Location:</label>
                            </div>
                            <div class="col-3">
                                <input id="locationrating" value="" type="text" class="rating" data-theme="krajee-fas" data-min=0 data-max=5 data-step=0.5 data-size="sm"
                            title="" name="importance_l">
                            </div>
                        </div>
                        <div class="form-group row align-items-center justify-content-center">
                            <label for="datepickerin" class="col-1 col-form-label text-right">Checkin Date:</label>
                            <div class="col-1">
                                <div class="input-daterange">
                                    <input type="text" name="checkin" id="checkin" class="form-control wide-input" placeholder="Start">
                                </div>
                            </div>
                        
                            <label for="datepickerout" class="col-1 col-form-label text-right">Checkout Date:</label>
                            <div class="col-1">
                                <div class="input-daterange">
                                    <input type="text" name="checkout" id="checkout" class="form-control wide-input" placeholder="End">
                                </div>
                            </div>
                    </div>
                    <div class="form-group row align-items-center justify-content-center">
                        <div class ="col-2">
                            <label for="periodrating" class="col-form-label text-right">Importance for Location:</label>
                        </div>
                        <div class="col-3">
                            <input id="periodrating" value="" type="text" class="rating" data-theme="krajee-fas" data-min=0 data-max=5 data-step=0.5 data-size="sm"
                        title="" name="importance_d">
                        </div>
                    </div>
                        <div class="text-center"> 
                            <button type="submit" class="btn btn-primary"  id="SubmitButton">Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
            fetch('/nav')
            .then(response => response.text())
            .then(data => {
            document.getElementById("mainNav").innerHTML = data;
              });
                }
            );
            $(document).ready(function() {
        var datepickerOptions = {
            format: 'yyyy-mm-dd',
            todayBtn: 'linked',
            clearBtn: true,
            autoclose: true,
            multidate: 2,
            orientation: "bottom"
        };

        $('#checkin').datepicker(datepickerOptions).on('show', function(e) {
            e.preventDefault();
        });
        
        $('#checkout').datepicker(datepickerOptions).on('show', function(e) {
            e.preventDefault();
        });
    });
            jQuery(document).ready(function () {
                $("#input-21f").rating({
                    starCaptions: function (val) {
                        if (val < 3) {
                            return val;
                        } else {
                            return 'high';
                        }
                    },
                    starCaptionClasses: function (val) {
                        if (val < 3) {
                            return 'label label-danger';
                        } else {
                            return 'label label-success';
                        }
                    },
                    hoverOnClear: false
                });
                var $inp = $('#rating-input');
    
                $inp.rating({
                    min: 0,
                    max: 5,
                    step: 1,
                    size: 'lg',
                    showClear: false
                });
    
                $('#btn-rating-input').on('click', function () {
                    $inp.rating('refresh', {
                        showClear: true,
                        disabled: !$inp.attr('disabled')
                    });
                });
    
    
                $('.btn-danger').on('click', function () {
                    $("#kartik").rating('destroy');
                });
    
                $('.btn-success').on('click', function () {
                    $("#kartik").rating('create');
                });
    
                $inp.on('rating.change', function () {
                    alert($('#rating-input').val());
                });
    
    
                $('.rb-rating').rating({
                    'showCaption': true,
                    'stars': '3',
                    'min': '0',
                    'max': '3',
                    'step': '1',
                    'size': 'xs',
                    'starCaptions': {0: 'status:nix', 1: 'status:wackelt', 2: 'status:geht', 3: 'status:laeuft'}
                });
                $("#input-21c").rating({
                    min: 0, max: 8, step: 0.5, size: "xl", stars: "8"
                });
                $("#pricerating").on("rating.change", function () {
                     console.log(value);
                     $("#importance_p").val(value);  // 当评分更改时，更新 importance_p 的值
                  });
                  $("#locationrating").on("rating.change", function () {
                     console.log(value);
                     $("#importance_l").val(value);  // 当评分更改时，更新 importance_p 的值
                  });
                  $("#periodrating").on("rating.change", function () {
                     console.log(value);
                     $("#importance_d").val(value);  // 当评分更改时，更新 importance_p 的值
                  });
                  $("#userin").submit(function(e) {
            e.preventDefault();  // 阻止默认的表单提交行为
            $.ajax({
                url: '/userInput',
                type: 'POST',
                data: $(this).serialize(),  // 将表单数据序列化
                success: function(response) {
                    // 在此可以处理后端的响应
                    // 例如，可以在这里处理页面跳转
                    window.location.href = '/output';
                },
                error: function(error) {
                    // 处理请求错误
                }
            });
        });
            });
          </script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
          <!-- SimpleLightbox plugin JS-->
          <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
          <!-- Core theme JS-->
          <script src="../static/js/scripts.js"></script>
          <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
          <!-- * *                               SB Forms JS                               * *-->
          <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
          <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    </body>
</html>